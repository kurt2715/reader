# Reader (macOS)

一个面向 Apple Silicon 的 macOS 电子书阅读器，主打一个上班摸鱼功能。
完全透明，无菜单栏，除了电子书内容文字没有任何其他东西。
<img width="1202" height="642" alt="image" src="https://github.com/user-attachments/assets/95e1c59d-1c1b-45e8-b090-205611790077" />

- 支持格式：`txt`、`pdf`、`epub`、`mobi`、`azw3`
- 支持透明模式、全文检索、目录跳转、返回上一个位置
- 首页持久化书目（仅记录本地路径，不复制原文件）
- 记住阅读进度（文本滚动比例 / PDF 页码）

## 1. 当前功能

### 1.1 导入与书库
- 首页支持多选导入文件
- 支持从首页移除书目（不会删除本地文件）
- 重启应用后，已导入书目仍会显示

### 1.2 阅读模式
- 主阅读窗口使用隐藏标题栏，保持尽量干净的阅读视图
- 文本类（TXT/EPUB/MOBI/AZW3/PDF 文本模式）支持：
  - 字号调整
  - 字体颜色（黑/白）
- PDF 支持两种模式：
  - `PDF Original Layout`
  - `PDF Text Mode`（提取可选中文本后按文本阅读）

### 1.3 透明模式
- 一键开关透明模式
- 透明度可调（50% 到 100%）

### 1.4 全文检索（Cmd+F）
- 独立可拖动检索窗口
- 支持当前已打开书籍的全文检索
- 点击检索结果自动跳转到命中位置
- 检索结果中关键字高亮显示
- 跳转前自动记录当前位置，可用“返回上一个位置”回退

### 1.5 目录（Cmd+T）
- 独立可拖动目录窗口
- 点击目录项自动跳转
- 跳转前自动记录当前位置，可回退
- 目录来源：
  - `epub/mobi/azw3`：优先使用书内目录（NCX）
  - `pdf`：使用 PDF Outline/书签
  - `txt`：按常见章节标题规则自动识别（如“第X章/第X幕/序幕/尾声/Chapter”等）

### 1.6 返回上一个位置（Cmd+[）
- 适用于：
  - 内部链接跳转
  - 全文检索跳转
  - 目录跳转

## 2. 快捷键

在菜单 `Reader` 中可见：

- `Cmd+Shift+H`：返回主页
- `Cmd+[`：返回上一个位置
- `Cmd+F`：打开全文检索窗口
- `Cmd+T`：打开目录窗口
- `Cmd+Shift+T`：切换透明模式
- `Cmd+Option+]`：透明度 +10%
- `Cmd+Option+[`：透明度 -10%
- `Cmd+=`：字号 +2
- `Cmd+-`：字号 -2

## 3. 环境要求

- macOS（Apple Silicon）
- Xcode 15+
- `xcodegen`
